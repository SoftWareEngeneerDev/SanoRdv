<!--
<div class="container">
  <h1><span class="icon">📅</span> Gestion des Rendez-vous Patients</h1>

  Section de recherche
  <div class="search-section">

    <div class="search-box">
    <input
      type="text"
      [(ngModel)]="query"
      placeholder="Rechercher par spécialté ou par nom de médécin"
      class="search-input"
    />
    <button  title="Rechercher" class="search-button">
      <i class="bi bi-search"></i>
    </button>
  </div>
  </div>

  Tableau des rendez-vous
   <h1>Liste des Rendez-vous</h1>
  <table>
    <thead>
      <tr>
        <th>ID</th>
        <th>Patient</th>
        <th>Date/Heure</th>
        <th>Motif</th>
        <th>Statut</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngIf="filteredAppointments.length === 0">
        <td colspan="6" class="no-appointments">Aucun rendez-vous trouvé</td>
      </tr>
      <tr *ngFor="let appointment of filteredAppointments">
        <td>{{ appointment.id }}</td>
        <td>{{ appointment.patientName }}</td>
        <td>{{ formatDate(appointment.date) }} à {{ appointment.time }}</td>
        <td>{{ appointment.reason }}</td>
        <td [ngClass]="getStatusClass(appointment.status)">{{ getStatusLabel(appointment.status) }}</td>
        <td>
          <button (click)="viewAppointmentDetails(appointment)" class="btn-secondary">
            <span class="icon">👁️</span> Voir
          </button>
        </td>
      </tr>
    </tbody>
  </table>
</div>
Modal des détails
<div class="modal" [style.display]="selectedAppointment ? 'block' : 'none'">
  <div class="modal-content">
    <span class="close" (click)="closeModal()">&times;</span>
    <h2><span class="icon">📄</span> Détails du Rendez-vous</h2>

    <div class="appointment-details" *ngIf="selectedAppointment">
      <div class="detail-row"><div class="detail-label">Patient :</div><div class="detail-value">{{ selectedAppointment.patientName }}</div></div>
      <div class="detail-row"><div class="detail-label">Contact :</div><div class="detail-value">{{ selectedAppointment.patientPhone }} | {{ selectedAppointment.patientEmail }}</div></div>
      <div class="detail-row"><div class="detail-label">Date/Heure :</div><div class="detail-value">{{ formatDate(selectedAppointment.date) }} à {{ selectedAppointment.time }}</div></div>
      <div class="detail-row"><div class="detail-label">Motif :</div><div class="detail-value">{{ selectedAppointment.reason }}</div></div>
      <div class="detail-row"><div class="detail-label">Notes :</div><div class="detail-value">{{ selectedAppointment.notes || 'Aucune note' }}</div></div>
      <div class="detail-row"><div class="detail-label">Statut :</div><div class="detail-value">{{ getStatusLabel(selectedAppointment.status) }}</div></div>
    </div>

    <div class="action-buttons">
      <ng-container *ngIf="selectedAppointment?.status === 'pending'">
        <button class="btn-success" (click)="updateStatus('confirmed')"><span class="icon">✅</span> Confirmer</button>
        <button class="btn-danger" (click)="updateStatus('cancelled')"><span class="icon">🗑️</span> Annuler</button>
      </ng-container>
      <ng-container *ngIf="selectedAppointment?.status === 'confirmed'">
        <button class="btn-danger" (click)="updateStatus('cancelled')"><span class="icon">🗑️</span> Annuler</button>
      </ng-container>
      <ng-container *ngIf="selectedAppointment?.status === 'cancelled'">
        <button class="btn-success" (click)="updateStatus('confirmed')"><span class="icon">✅</span> Reconfirmer</button>
      </ng-container>
    </div>
  </div>
</div> -->








<!-- src/app/medecin/my-appointment.component.html -->
<div class="container">
  <h1><span class="icon">📅</span> Gestion des Rendez-vous Patients</h1>

  <!-- Section de recherche -->
  <div class="search-section">
    <div class="search-box">
      <input
        type="text"
        [(ngModel)]="query"
        (input)="searchAppointments()"
        placeholder="Rechercher par spécialité ou nom de patient"
        class="search-input"
      />
      <button title="Rechercher" class="search-button">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </div>

  <!-- Tableau des rendez-vous -->
  <h1>Liste des Rendez-vous</h1>
  <table>
    <thead>
      <tr>
        <th>ID</th>
        <th>Patient</th>
        <th>Date/Heure</th>
        <th>Motif</th>
        <th>Statut</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngIf="filteredAppointments.length === 0">
        <td colspan="6" class="no-appointments">Aucun rendez-vous trouvé</td>
      </tr>
      <tr *ngFor="let appointment of filteredAppointments">
        <td>{{ appointment._id }}</td>
        <td>{{ appointment.patient.prenom }} {{ appointment.patient.nom }}</td>
        <td>{{ formatDate(appointment.creneau.date) }} à {{ appointment.time }}</td>
        <td>{{ appointment.motif }}</td>
        <td [ngClass]="getStatusClass(appointment.statut)">
          {{ getStatusLabel(appointment.statut) }}
        </td>
        <td>
          <button (click)="viewAppointmentDetails(appointment)" class="btn-secondary">
            <span class="icon">👁️</span> Voir
          </button>
        </td>
      </tr>
    </tbody>
  </table>
</div>

<!-- Modal des détails -->
<div class="modal" [style.display]="selectedAppointment ? 'block' : 'none'">
  <div class="modal-content">
    <span class="close" (click)="closeModal()">&times;</span>
    <h2><span class="icon">📄</span> Détails du Rendez-vous</h2>

    <div class="appointment-details" *ngIf="selectedAppointment">
      <div class="detail-row">
        <div class="detail-label">Patient :</div>
        <div class="detail-value">{{ selectedAppointment.patient.prenom }} {{ selectedAppointment.patient.nom }}</div>
      </div>
      <div class="detail-row">
        <div class="detail-label">Contact :</div>
        <div class="detail-value">{{ selectedAppointment.patient.email }}</div>
      </div>
      <div class="detail-row">
        <div class="detail-label">Date/Heure :</div>
        <div class="detail-value">{{ formatDate(selectedAppointment.creneau.date) }} à {{ selectedAppointment.time }}</div>
      </div>
      <div class="detail-row">
        <div class="detail-label">Motif :</div>
        <div class="detail-value">{{ selectedAppointment.motif }}</div>
      </div>
      <div class="detail-row">
        <div class="detail-label">Statut :</div>
        <div class="detail-value">{{ getStatusLabel(selectedAppointment.statut) }}</div>
      </div>
    </div>

    <div class="action-buttons">
      <ng-container *ngIf="selectedAppointment?.statut === 'confirmé'">
        <button class="btn-danger" (click)="closeModal()"><span class="icon">❌</span> Fermer</button>
      </ng-container>
      <ng-container *ngIf="selectedAppointment?.statut === 'annulé'">
        <button class="btn-success" (click)="closeModal()"><span class="icon">✅</span> Fermer</button>
      </ng-container>
    </div>
  </div>
</div>
